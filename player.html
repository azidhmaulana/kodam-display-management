<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HLS Player</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: #000;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      video {
        width: 100%;
        height: 100%;
        background: #000;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.15/dist/hls.min.js"></script>
  </head>
  <body>
    <video id="video" controls autoplay muted playsinline></video>
    <script>
      const params = new URLSearchParams(window.location.search);
      const src = params.get("src");
      const video = document.getElementById("video");
      if (!src) {
        video.remove();
        document.body.textContent = "No source provided";
      } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
        video.src = src;
        video.play().catch(() => {});
      } else if (window.Hls) {
        const hls = new Hls({ autoStartLoad: true });
        hls.loadSource(src);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          video.play().catch(() => {});
        });
      } else {
        video.remove();
        document.body.textContent = "HLS not supported";
      }
    </script>
  </body>
</html>
